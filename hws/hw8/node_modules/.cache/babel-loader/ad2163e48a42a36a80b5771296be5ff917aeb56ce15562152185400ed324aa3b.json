{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fetchSvg = void 0;\nconst utils_1 = require(\"./utils\");\nconst DEFAULT_TIMEOUT = 4800;\nconst DEFAULT_RETRY_COUNT = 2;\nfunction fetchWithTimeout(url, params) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const timeout = (params === null || params === void 0 ? void 0 : params.timeout) || DEFAULT_TIMEOUT;\n    const controller = new AbortController();\n    const timeoutId = setTimeout(() => controller.abort(), timeout);\n    return fetch(url, Object.assign(Object.assign({}, params), {\n      signal: controller.signal\n    })).then(response => {\n      clearTimeout(timeoutId);\n      return response;\n    }).catch(error => {\n      clearTimeout(timeoutId);\n      throw error;\n    });\n  });\n}\nfunction fetchSvg(url, params) {\n  let retryCount = (params === null || params === void 0 ? void 0 : params.retryCount) === undefined ? DEFAULT_RETRY_COUNT : params === null || params === void 0 ? void 0 : params.retryCount;\n  function doFetch(url, params) {\n    return fetchWithTimeout(url, params).then(response => {\n      if (response.ok) {\n        return response.text();\n      }\n      throw new Error(`Unable to load SVG file: ${url}`);\n    }).catch(error => {\n      if (retryCount > 0) {\n        retryCount--;\n        return doFetch(url, params);\n      }\n      throw error;\n    });\n  }\n  return doFetch(url, params).then(response => {\n    (0, utils_1.checkSvgContent)(response);\n    return response;\n  });\n}\nexports.fetchSvg = fetchSvg;","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","Object","defineProperty","exports","fetchSvg","utils_1","require","DEFAULT_TIMEOUT","DEFAULT_RETRY_COUNT","fetchWithTimeout","url","params","timeout","controller","AbortController","timeoutId","setTimeout","abort","fetch","assign","signal","response","clearTimeout","catch","error","retryCount","undefined","doFetch","ok","text","Error","checkSvgContent"],"sources":["C:/Users/oniko/GB/technological_specialization/react/hws/hw8/node_modules/handy-svg/lib/fetcher.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fetchSvg = void 0;\nconst utils_1 = require(\"./utils\");\nconst DEFAULT_TIMEOUT = 4800;\nconst DEFAULT_RETRY_COUNT = 2;\nfunction fetchWithTimeout(url, params) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const timeout = (params === null || params === void 0 ? void 0 : params.timeout) || DEFAULT_TIMEOUT;\n        const controller = new AbortController();\n        const timeoutId = setTimeout(() => controller.abort(), timeout);\n        return fetch(url, Object.assign(Object.assign({}, params), { signal: controller.signal }))\n            .then((response) => {\n            clearTimeout(timeoutId);\n            return response;\n        })\n            .catch((error) => {\n            clearTimeout(timeoutId);\n            throw error;\n        });\n    });\n}\nfunction fetchSvg(url, params) {\n    let retryCount = (params === null || params === void 0 ? void 0 : params.retryCount) === undefined ? DEFAULT_RETRY_COUNT : params === null || params === void 0 ? void 0 : params.retryCount;\n    function doFetch(url, params) {\n        return fetchWithTimeout(url, params)\n            .then((response) => {\n            if (response.ok) {\n                return response.text();\n            }\n            throw new Error(`Unable to load SVG file: ${url}`);\n        })\n            .catch((error) => {\n            if (retryCount > 0) {\n                retryCount--;\n                return doFetch(url, params);\n            }\n            throw error;\n        });\n    }\n    return doFetch(url, params)\n        .then((response) => {\n        (0, utils_1.checkSvgContent)(response);\n        return response;\n    });\n}\nexports.fetchSvg = fetchSvg;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}