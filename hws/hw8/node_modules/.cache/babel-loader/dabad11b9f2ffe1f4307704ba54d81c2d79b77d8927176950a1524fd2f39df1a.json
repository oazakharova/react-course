{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.injector = void 0;\nconst lodash_debounce_1 = __importDefault(require(\"lodash.debounce\"));\nconst fetcher_1 = require(\"./fetcher\");\nconst utils_1 = require(\"./utils\");\nconst SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\nconst INJECTION_DELAY = 20;\nclass Injector {\n  constructor() {\n    this.fragment = null;\n    this.cache = new Set();\n    this.accumulateSvg = ({\n      url,\n      svgString\n    }) => {\n      const id = this.getId(url);\n      const symbol = this.svgToSymbol({\n        id,\n        svgString\n      });\n      this.fragment = this.fragment || document.createDocumentFragment();\n      this.fragment.append(symbol);\n    };\n    this.flushSvg = () => {\n      const sprite = this.getSymbolMountPoint();\n      if (this.fragment) {\n        sprite.appendChild(this.fragment);\n        this.fragment = null;\n      }\n    };\n    this.deboucedflushSvg = (0, lodash_debounce_1.default)(this.flushSvg, INJECTION_DELAY);\n  }\n  parseSvgString(svg) {\n    return new DOMParser().parseFromString(svg, 'image/svg+xml').children[0];\n  }\n  svgToSymbol({\n    id,\n    svgString\n  }) {\n    const svgDocument = this.parseSvgString(svgString);\n    const viewBox = svgDocument.getAttribute('viewBox');\n    const symbol = document.createElementNS(SVG_NAMESPACE, 'symbol');\n    if (viewBox) {\n      symbol.setAttributeNS(null, 'viewBox', viewBox);\n    }\n    symbol.setAttributeNS(null, 'id', id);\n    symbol.innerHTML = svgDocument.innerHTML;\n    return symbol;\n  }\n  getSymbolMountPoint() {\n    if (!this.symbolsMountingPoint) {\n      const sprite = document.createElementNS(SVG_NAMESPACE, 'svg');\n      this.symbolsMountingPoint = sprite;\n      sprite.ariaHidden = 'true';\n      sprite.style.width = '0';\n      sprite.style.height = '0';\n      sprite.style.overflow = 'hidden';\n      document.body.appendChild(sprite);\n    }\n    return this.symbolsMountingPoint;\n  }\n  getId(url) {\n    return (0, utils_1.extractFileName)(url);\n  }\n  load(url, {\n    flushImmediate,\n    timeout,\n    retryCount\n  } = {}) {\n    return __awaiter(this, void 0, void 0, function* () {\n      if (this.cache.has(url)) {\n        return;\n      }\n      this.cache.add(url);\n      return (0, fetcher_1.fetchSvg)(url, {\n        timeout,\n        retryCount\n      }).then(svgString => {\n        this.accumulateSvg({\n          url,\n          svgString\n        });\n        flushImmediate ? this.flushSvg() : this.deboucedflushSvg();\n      }).catch(error => {\n        this.cache.delete(url);\n        throw error;\n      });\n    });\n  }\n}\nexports.injector = new Injector();","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__importDefault","mod","__esModule","Object","defineProperty","exports","injector","lodash_debounce_1","require","fetcher_1","utils_1","SVG_NAMESPACE","INJECTION_DELAY","Injector","constructor","fragment","cache","Set","accumulateSvg","url","svgString","id","getId","symbol","svgToSymbol","document","createDocumentFragment","append","flushSvg","sprite","getSymbolMountPoint","appendChild","deboucedflushSvg","default","parseSvgString","svg","DOMParser","parseFromString","children","svgDocument","viewBox","getAttribute","createElementNS","setAttributeNS","innerHTML","symbolsMountingPoint","ariaHidden","style","width","height","overflow","body","extractFileName","load","flushImmediate","timeout","retryCount","has","add","fetchSvg","catch","error","delete"],"sources":["C:/Users/oniko/Desktop/Все ДЗ GB/ReactJS-main/hw8app/node_modules/handy-svg/lib/injector.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.injector = void 0;\nconst lodash_debounce_1 = __importDefault(require(\"lodash.debounce\"));\nconst fetcher_1 = require(\"./fetcher\");\nconst utils_1 = require(\"./utils\");\nconst SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\nconst INJECTION_DELAY = 20;\nclass Injector {\n    constructor() {\n        this.fragment = null;\n        this.cache = new Set();\n        this.accumulateSvg = ({ url, svgString }) => {\n            const id = this.getId(url);\n            const symbol = this.svgToSymbol({ id, svgString });\n            this.fragment = this.fragment || document.createDocumentFragment();\n            this.fragment.append(symbol);\n        };\n        this.flushSvg = () => {\n            const sprite = this.getSymbolMountPoint();\n            if (this.fragment) {\n                sprite.appendChild(this.fragment);\n                this.fragment = null;\n            }\n        };\n        this.deboucedflushSvg = (0, lodash_debounce_1.default)(this.flushSvg, INJECTION_DELAY);\n    }\n    parseSvgString(svg) {\n        return new DOMParser().parseFromString(svg, 'image/svg+xml').children[0];\n    }\n    svgToSymbol({ id, svgString }) {\n        const svgDocument = this.parseSvgString(svgString);\n        const viewBox = svgDocument.getAttribute('viewBox');\n        const symbol = document.createElementNS(SVG_NAMESPACE, 'symbol');\n        if (viewBox) {\n            symbol.setAttributeNS(null, 'viewBox', viewBox);\n        }\n        symbol.setAttributeNS(null, 'id', id);\n        symbol.innerHTML = svgDocument.innerHTML;\n        return symbol;\n    }\n    getSymbolMountPoint() {\n        if (!this.symbolsMountingPoint) {\n            const sprite = document.createElementNS(SVG_NAMESPACE, 'svg');\n            this.symbolsMountingPoint = sprite;\n            sprite.ariaHidden = 'true';\n            sprite.style.width = '0';\n            sprite.style.height = '0';\n            sprite.style.overflow = 'hidden';\n            document.body.appendChild(sprite);\n        }\n        return this.symbolsMountingPoint;\n    }\n    getId(url) {\n        return (0, utils_1.extractFileName)(url);\n    }\n    load(url, { flushImmediate, timeout, retryCount } = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.cache.has(url)) {\n                return;\n            }\n            this.cache.add(url);\n            return (0, fetcher_1.fetchSvg)(url, { timeout, retryCount })\n                .then((svgString) => {\n                this.accumulateSvg({ url, svgString });\n                flushImmediate ? this.flushSvg() : this.deboucedflushSvg();\n            })\n                .catch((error) => {\n                this.cache.delete(url);\n                throw error;\n            });\n        });\n    }\n}\nexports.injector = new Injector();\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}